<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="css/reset.css" />
		<link rel="stylesheet" href="css/index.css" />
		<script src="js/jquery.min.js"></script>
		<title></title>
	</head>
	<body>
		<div class="container">
			<div class="public-header"></div>
			<div class="mid-panel">
				<div class="img-panel">
					<div class="img-panel-div">
						<img src="img/01.png" >
					</div>
				</div>
				<div class="button-panel">
					<div>
						<img src="img/door.jpg" alt="">
						<p>开门</p>
					</div>
					<div>
						<img src="img/pay.jpg" alt="">
						<p>缴费</p>
					</div>
					<div>
						<img src="img/repair.jpg" alt="">
						<p>报修</p>
					</div>
					<div>
						<img src="img/report.jpg" alt="">
						<p>投诉</p>
					</div>
				</div>
			</div>
			<div class="space-panel"></div>
			<div class="bottom-panel">
				<div class="hot-news-top">
					<p>热门资讯</p>
				</div>
				<div class="line"></div>
				<div id="news-panel" class="news-panel">
					
				</div>
			</div>
		</div>
		<script type="text/javascript">
			window.onload = function (){
				var url = 'data.json';
				var xhr = new XMLHttpRequest();
				xhr.open('get',url);
				xhr.send(null);
				xhr.onload = function(){
					if(xhr.status==200){
						var jResult = JSON.parse(xhr.responseText).result;
						console.log(jResult);
					}
						
					var list = document.getElementById("news-panel");
						
					for(var i = 0; i < jResult.length; i++){
						var html = '';
						html += '<div class="hot-news-panel">';
						html +=     '<div class="hot-news-panel-left">';
						html +=         '<p class="news-title">'+`${jResult[i].title}`+'</p>';
						html +=         '<p class="news-time">'+`${jResult[i].time}`+'</p>';
						html +=         '<p class="news-readed">'+`${jResult[i].status_DISPLAY}`+'</p>';
						html +=     '</div>'
						html +=     '<div class="hot-news-panel-right">';
						html +=         '<img src="'+`${jResult[i].img}`+'" alt="">';
						html +=     '</div>';
						html += '</div>';
						html += '<div class="line">';
						html += '</div>';
						
						document.querySelector(list.insertAdjacentHTML('beforeEnd',html));
					}
				}
			}
		</script>
	</body>
</html>
